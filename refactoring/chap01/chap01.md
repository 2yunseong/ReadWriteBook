# 리팩터링: 첫번째 예시

### 예시 프로그램을 본 소감

설계가 나쁜 시스템은 수정하기 어렵다.

**프로그램이 새로운 기능을 추가하기에 편한 구조가 아니라면, 먼저 기능을 추가하기 쉬운 형태로 리팩터링하고 나서 원하는 기능을 추가한다.**

추후 사용자의 입맛에 맞게 수정할 부분이 있다면?

1. 연극부원들이 사극, 전원극, 등 다양한 연기를 하고 싶다면?
    - 적립포인트 계산법 수정 되어야 함
    - switch 문 수정되어야 한다.

### 리팩터링의 첫 단계
리팩터링의 첫 단계는 항상 똑같다. 리팩터링할 코드 영역을 꼼꼼하게 검사해줄 테스트 코드들 부터 마련해야 한다.

리팩터링에서 테스트의 역할을 굉장히 중요하다.

예제에서 `statement()` 테스트는 어떻게 구성하면 될까?

이 함수가 문자열을 반환하므로, 다양한 장르의 공연들로 구성된 공연료 청구서 몇 개를 미리 작성하여 실행할 수 있도록 설정한다.(테스트 프레임워크 이용)

테스트 결과는 자가 진단이 가능하게 설정

*리팩터링하기 전에 제대로 된 테스트부터 마련한다. 테스트는 반드시 자가진단 하도록 만든다.*

### statement() 함수 쪼개기

전체 메서드의 동작을 각각의 부분으로 나눌 수 있는 지점을 찾는다.




